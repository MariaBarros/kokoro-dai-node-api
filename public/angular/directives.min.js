"use strict";function draggable(){return{link:function(e,t,n){var r=t[0];r.draggable=!0,r.addEventListener("dragstart",function(t){return t.dataTransfer.effectAllowed="move",this.item=e[n.item],t.dataTransfer.setData("Text",this.id),this.classList.add("drag"),!1},!1),r.addEventListener("dragend",function(t){return this.classList.remove("drag"),!1},!1),r.addEventListener("dragenter",function(t){return this.classList.add("dragenter"),!1},!1),r.addEventListener("dragleave",function(t){return this.classList.remove("over"),this.classList.remove("dragenter"),!1},!1)}}}function droppable(){return{scope:{drop:"&",dropValidate:"&",bin:"=",fieldOrder:"@"},link:function(o,t){var e,n=t[0],c=o.fieldOrder||"",l=o.dropValidate();function r(t){t.stopPropagation&&t.stopPropagation();var e,n,r=this.id,i=document.getElementById(t.dataTransfer.getData("Text")),a=(e=i.id,n=r,void 0===l||l(e,n));return this.classList.remove("dragenter"),this.classList.remove("over"),o.$apply(function(t){var e=t.drop();void 0!==e&&a&&e(i.id,r,i.item,c)}),!1}function i(t){return t.dataTransfer.dropEffect="move",t.preventDefault&&t.preventDefault(),this.classList.add("over"),!1}(e=n).addEventListener("drop",r,!1),e.addEventListener("dragover",i,!1)}}}function duplicateValidator(l,s,u){return{require:"ngModel",link:function(o,t,c,e){e.$asyncValidators.duplicateValidator=function(t){var e=o.$eval(c.duplicateValidator),n=c.collection,r=c.action,i=c.name,a=u.pathCtl+n+".php";return!1===e?s.resolve():l.get(a+"?action="+r+"&"+i+"="+t).then(function(t){return 0<JSON.parse(t.data).Cant?s.reject("user already exist"):s.resolve()},function(t){return s.resolve()})}}}}function dynAttrs(c,l){return{require:"ngModel",link:function(n,t,r,i){var e=$(t[0]),a=n.$parent.$parent,o=a.$ctrl.field.dyns?a.$ctrl.field.dyns:[];e&&Array.isArray(o)&&(o.map(function(t){e.removeAttr(t.name),e.attr(t.name,t.value),"match-validator"==t.name&&(n.matchCompare=t.value),"compare"==t.name&&(n.compare=t.value),"date-validator"==t.name&&(n.dateValidator=t.value),"check-duplicate"==t.name&&(n.checkDuplicate=t.value),"ng-model-options"==t.name&&(i.$options=t.value)}),e.removeAttr("dyn-attrs"),c(e.contents())(n),n.matchCompare&&(i.$validators.matchValidator=function(t,e){return l.matchValidator(t,n.compare,n.matchCompare)}),n.checkDuplicate&&(i.$validators.checkDuplicate=function(t,e){return!(!r.itemId&&i.$valid)||l.checkDuplicate(t,n.checkDuplicate)}),n.dateValidator&&(i.$validators.dateValidator=function(t,e){return!i.$valid||l.dateValidator(t,e,n.dateValidator)}))}}}function dynLabels(c,t){return{transclude:!1,scope:{labels:"<",source:"<",completeLabel:"="},link:function(o,t,e){var r=function(t){var e="";for(var n in o.labels){var r=o.labels[n],i=r.filter||"",a=r.filter&&i?c(i)(t[n]):t[n];e+=r.label?r.label+": "+(a||"-"):""+(a||"-"),r.separator&&(e+=r.separator)}return e};for(var n in o.labels)o.$watch('source["'+n+'"]',function(t,e,n){t&&(n.completeLabel=r(n.source))})}}}function getObject(a){return{require:"ngModel",scope:{selection:"="},link:function(n,t,r,i){$(t[0]).on("blur",function(){var t=i.$modelValue,e=r.router;t&&(n.selection={},a.records(e+".php",r.action,"&search="+t).then(function(t){n.selection=t}))})}}}function loadingImage(){return{link:function(t,e,n){e.bind("load",function(t){var e=""!==n.loadingImage?n.loadingImage:"zoomIn";$(t.target).parent().parent().addClass("noBack"),$(t.target).addClass(e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass(e).addClass("load")}),""!==n.closest&&$(t.target).parent().find(n.closest).addClass(e)})}}}function preloadBack(){return{link:function(t,e,n){var r=$(e[0]),i=$('<img src="'+n.src+'">'),a=$(r.parent()[0]);0==a.find(".loader").length&&a.append($('<div class="loader loader-dark loader-slider"></div>')),n.rowDinamicSpan&&(t[n.rowDinamicSpan].rowSpan=1),i.bind("load",function(){a.addClass("loaded"),a.children(".loader").remove(),i[0].width<i[0].height&&"true"==n.dinamicSpan&&(t[n.rowDinamicSpan].rowSpan=2),r.addClass("load").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).addClass("loaded")})})}}}function ScrollHorizontalCtrl2(t){this.placeControl=!1;var c=function(){var t=$(window).width();return 1200<=t?parseInt(this.steps.step):t<=768&&480<t?parseInt(this.steps.mStep):parseInt(this.steps.smStep)};this.$onChanges=function(t){t.container&&t.container.currentValue&&(this.container=t.container.currentValue),t.steps&&t.steps.currentValue&&(this.steps=t.steps.currentValue),this.container&&this.steps&&0==this.placeControl&&function(t){var e=t.parent().parent(),n=c(),r=e.find(".ctrl-next"),i=e.find(".ctrl-prev"),a=0,o=0;this.placeControl=!0,r.bind("click","a",function(){0==a&&(a=t[0].childElementCount),o=o+n<a?o+n:a-1,t.scrollTo(t[0].children[o],500)}),i.bind("click",function(){o=1<=o-n?o-n:0,t.scrollTo(t[0].children[o],500)}),$(window).resize(function(){c(),t.scrollTo(t[0].children[o],500)})}($(this.container))}}function jsonLd(r,i){return{restrict:"E",template:function(){return'<script type="application/ld+json" ng-bind-html="onGetJson()"><\/script>'},scope:{json:"=json"},link:function(t,e,n){t.onGetJson=function(){return i.trustAsHtml(r("json")(t.json))}},replace:!0}}function matchValidator(){return{require:"ngModel",scope:{otherModelValue:"=matchValidator"},link:function(e,t,n,r){r.$validators.matchValidator=function(t){return"greatherthan"==n.compare?t>=e.otherModelValue:"lessthan"==n.compare?t<=e.otherModelValue:t==e.otherModelValue},e.$watch("otherModelValue",function(){r.$validate()})}}}function tabSelected(c){return{transclude:!1,link:function(t,e,n){var r=$(e[0]),i={},a=t.$parent;if(a.$ctrl){var o=a.$ctrl;o.currentTab&&(i=c.getCurrentTab(o.currentTab,o.defaultTab),o.defaultTab=i.selected)}r.on("click",function(){var t=$(this)[0].attributes.role;t&&a.$ctrl.currentTab&&c.setCurrentTab(a.$ctrl.currentTab,t.value)})}}}function debounce(r,i,a){var o;return function(){var t=this,e=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||r.apply(t,e)},i),n&&r.apply(t,e)}}function randomString(t,e){for(var n="",r=0,i="a"==(e=e&&e.toLowerCase())?10:0,a="n"==e?10:62;r++<t;){var o=Math.random()*(a-i)+i<<0;n+=String.fromCharCode(o+=9<o?o<36?55:61:48)}return n}angular.module("app").directive("draggable",draggable),angular.module("app").directive("droppable",droppable),angular.module("app").directive("duplicateValidator",duplicateValidator),angular.module("app").directive("dynAttrs",dynAttrs),dynAttrs.$inject=["$compile","ValidatorFactory"],angular.module("app").directive("dynLabels",dynLabels),dynLabels.$inject=["$filter","DataFactory"],angular.module("app").directive("getObject",getObject),getObject.$inject=["DataFactory"],angular.module("app").directive("loadingImage",loadingImage).directive("preloadBack",preloadBack).directive("rowDinamicSpan",preloadBack).component("scrollHorizontal2",{controller:ScrollHorizontalCtrl2,bindings:{steps:"<",elements:"<",container:"@"}}),angular.module("app").directive("jsonLd",["$filter","$sce",jsonLd]),angular.module("app").directive("matchValidator",matchValidator),angular.module("app").directive("tabSelected",tabSelected),tabSelected.$inject=["appProvider"],angular.module("djds4rce.angular-socialshare",[]).factory("$FB",["$window",function(a){return{init:function(t){if(!t)throw"FB App Id Cannot be blank";var e,n,r,i;this.fbId=t,a.fbAsyncInit=function(){FB.init({appId:t,channelUrl:"app/channel.html",status:!0,xfbml:!0})},e=document,r="facebook-jssdk",i=e.getElementsByTagName("script")[0],e.getElementById(r)||((n=e.createElement("script")).id=r,n.async=!0,n.src="//connect.facebook.net/en_US/all.js",i.parentNode.insertBefore(n,i))}}}]).directive("facebook",["$http",function(n){return{scope:{callback:"=",shares:"="},transclude:!0,template:'<div class="facebookButton"><div class="pluginButton"><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="button"><i class="pluginButtonIcon img sp_plugin-button-2x sx_plugin-button-2x_favblue"></i></button></div><span class="pluginButtonLabel">Share</span></div></div></div><div class="facebookCount"><div class="pluginCountButton pluginCountNum"><span ng-transclude></span></div><div class="pluginCountButtonNub"><s></s><i></i></div></div>',link:function(r,t,e){e.$observe("url",function(){e.shares&&e.url&&n.get("https://api.facebook.com/method/links.getStats?urls="+e.url+"&format=json").success(function(t){var e=t[0]?t[0].total_count.toString():0,n="";6<e.length?("0"!=e.slice(-6,-5)&&(n="."+e.slice(-6,-5)),e=(e=e.slice(0,-6))+n+"M"):3<e.length&&("0"!=e.slice(-3,-2)&&(n="."+e.slice(-3,-2)),e=(e=e.slice(0,-3))+n+"k"),r.shares=e}).error(function(){r.shares=0}),t.unbind(),t.bind("click",function(t){FB.ui({method:"share",href:e.url},function(t){void 0!==r.callback&&"function"==typeof r.callback&&r.callback(t)}),t.preventDefault()})})}}}]).directive("facebookFeedShare",["$http",function(n){return{scope:{callback:"=",shares:"="},transclude:!0,template:'<div><img src="images/svg/ico-facebook-color.svg"/>Compartir</div><span ng-transclude></span>',link:function(r,t,e){e.$observe("url",function(){e.shares&&e.url&&n.get("https://api.facebook.com/method/links.getStats?urls="+e.url+"&format=json").success(function(t){var e=t[0]?t[0].total_count.toString():0,n="";6<e.length?("0"!=e.slice(-6,-5)&&(n="."+e.slice(-6,-5)),e=(e=e.slice(0,-6))+n+"M"):3<e.length&&("0"!=e.slice(-3,-2)&&(n="."+e.slice(-3,-2)),e=(e=e.slice(0,-3))+n+"k"),r.shares=e}).error(function(){r.shares=0}),t.unbind(),t.bind("click",function(t){FB.ui({method:"feed",link:e.url,picture:e.picture,name:e.name,caption:e.caption,description:e.description},function(t){void 0!==r.callback&&"function"==typeof r.callback&&r.callback(t)}),t.preventDefault()})})}}}]).directive("twitter",["$timeout",function(i){return{link:function(t,e,n){var r=debounce(function(){n.url&&i(function(){e[0].innerHTML="",twttr.widgets.createShareButton(n.url,e[0],function(){},{count:n.count,text:n.text,via:n.via,size:n.size})})},75);n.$observe("url",r),n.$observe("text",r)}}}]).directive("twitterFollow",["$timeout",function(i){return{link:function(t,e,n){var r=debounce(function(){n.account&&i(function(){e[0].innerHTML="",twttr.widgets.createFollowButton(n.account,e[0],function(){},{showCount:!1})})},75);n.$observe("account",r)}}}]).directive("twitterHashtag",["$timeout",function(i){return{link:function(t,e,n){var r=debounce(function(){n.hashtag&&i(function(){e[0].innerHTML="",twttr.widgets.createHashtagButton(n.hashtag,e[0],function(){},{count:n.count||"none",text:n.text,size:n.size||"large"})})},75);n.$observe("hashtag",r),n.$observe("text",r)}}}]).directive("linkedin",["$timeout","$http","$window",function(i,a,o){return{scope:{shares:"="},transclude:!0,template:'<div class="linkedinButton"><div class="pluginButton"><div class="pluginButtonContainer"><div class="pluginButtonImage">in</div><span class="pluginButtonLabel"><span>Share</span></span></div></div></div><div class="linkedinCount"><div class="pluginCountButton"><div class="pluginCountButtonRight"><div class="pluginCountButtonLeft"><span ng-transclude></span></div></div></div></div>',link:function(e,t,n){var r=debounce(function(){n.shares&&n.url&&a.jsonp("https://www.linkedin.com/countserv/count/share?url="+n.url+"&callback=JSON_CALLBACK&format=jsonp").success(function(t){e.shares=t.count.toLocaleString()}).error(function(){e.shares=0}),i(function(){t.unbind(),t.bind("click",function(){var t=encodeURIComponent(n.url).replace(/'/g,"%27").replace(/"/g,"%22");o.open("//www.linkedin.com/shareArticle?mini=true&url="+t+"&title="+n.title+"&summary="+n.summary)})})},100);n.$observe("url",r),n.$observe("title",r),n.$observe("summary",r)}}}]).directive("gplus",[function(){return{link:function(t,n,e){var r,i=debounce(function(){"undefined"==typeof gapi?function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://apis.google.com/js/platform.js",t.onload=a;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}():a()},100),a=(r=e,function(){var t=document.createElement("div"),e=r.id||randomString(5);r.id=e,t.setAttribute("id",e),n.innerHTML="",n.append(t),r.class&&-1!=r.class.indexOf("g-plusone")?window.gapi.plusone.render(e,r):window.gapi.plus.render(e,r)});e.$observe("href",i)}}}]).directive("tumblrText",[function(){return{link:function(t,e,n){var r=document.createElement("a"),i=debounce(function(){r.setAttribute("href","https://www.tumblr.com/share/link?url="+encodeURIComponent(n.url)+"&name="+encodeURIComponent(n.name)+"&description="+encodeURIComponent(n.description)),r.setAttribute("title",n.title||"Share on Tumblr"),r.setAttribute("style",n.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),e[0].innerHTML="",e.append(r)},100);n.$observe("url",i),n.$observe("name",i),n.$observe("description",i)}}}]).directive("tumblrQoute",[function(){return{link:function(t,e,n){var r=document.createElement("a"),i=debounce(function(){r.setAttribute("href","https://www.tumblr.com/share/quote?quote="+encodeURIComponent(n.qoute)+"&source="+encodeURIComponent(n.source)),r.setAttribute("title",n.title||"Share on Tumblr"),r.setAttribute("style",n.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),e[0].innerHTML="",e.append(r)},100);n.$observe("qoute",i),n.$observe("source",i)}}}]).directive("tumblrImage",[function(){return{link:function(t,e,n){var r=document.createElement("a"),i=debounce(function(){r.setAttribute("href","https://www.tumblr.com/share/photo?source="+encodeURIComponent(n.source)+"&caption="+encodeURIComponent(n.caption)+"&clickthru="+encodeURIComponent(n.clickthru)),r.setAttribute("title",n.title||"Share on Tumblr"),r.setAttribute("style",n.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),e[0].innerHTML="",e.append(r)},100);n.$observe("source",i),n.$observe("caption",i),n.$observe("clickthru",i)}}}]).directive("tumblrVideo",[function(){return{link:function(t,e,n){var r=document.createElement("a"),i=debounce(function(){r.setAttribute("href","https://www.tumblr.com/share/video?embed="+encodeURIComponent(n.embedcode)+"&caption="+encodeURIComponent(n.caption)),r.setAttribute("title",n.title||"Share on Tumblr"),r.setAttribute("style",n.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),e[0].innerHTML="",e.append(r)},100);n.$observe("embedcode",i),n.$observe("caption",i)}}}]).directive("pintrest",["$window","$timeout",function(i,a){return{template:'<a href="{{href}}" data-pin-do="{{pinDo}}" data-pin-config="{{pinConfig}}"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>',link:function(t,e,n){var r=debounce(function(){var t=document.createElement("a");t.setAttribute("href","//www.pinterest.com/pin/create/button/?url="+encodeURIComponent(n.href)+"&media="+encodeURIComponent(n.img)+"&description="+encodeURIComponent(n.description)),t.setAttribute("pinDo",n.pinDo||"buttonPin"),t.setAttribute("pinConfig",n.pinConfig||"beside"),e[0].innerHTML="",e.append(t),a(function(){i.parsePins(e)})},100);n.$observe("href",r),n.$observe("img",r),n.$observe("description",r)}}}]);